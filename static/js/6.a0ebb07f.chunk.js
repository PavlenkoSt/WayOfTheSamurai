(this["webpackJsonpway-of-the-samurai"]=this["webpackJsonpway-of-the-samurai"]||[]).push([[6],{234:function(t,e,n){"use strict";e.a=n.p+"static/media/user.22c31152.png"},239:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n(3);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}var f=n(0),b=n.n(f),g=n(17),p=n(6),d=n(2),h=function(t){var e=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(f,e);var n,a,u,c=l(f);function f(){return r(this,f),c.apply(this,arguments)}return n=f,(a=[{key:"render",value:function(){return this.props.isAuth?Object(d.jsx)(t,Object(o.a)({},this.props)):Object(d.jsx)(p.a,{to:"/login"})}}])&&s(n.prototype,a),u&&s(n,u),f}(b.a.Component);return Object(g.b)((function(t){return{isAuth:t.auth.isAuth}}))(e)}},240:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=n(57);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,s=void 0;try{for(var i,a=t[Symbol.iterator]();!(o=(i=a.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(u){r=!0,s=u}finally{try{o||null==a.return||a.return()}finally{if(r)throw s}}return n}}(t,e)||Object(o.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},311:function(t,e,n){t.exports={container:"Users_container__tcCkJ",header:"Users_header__2kmFS",users:"Users_users__Dr-3c",btnContainer:"Users_btnContainer__332DO",btn:"Users_btn__2qHej"}},312:function(t,e,n){t.exports={photo:"LeftSide_photo__2n3ES",follow:"LeftSide_follow__2iwdw",followBtn:"LeftSide_followBtn__2462p",unfollowBtn:"LeftSide_unfollowBtn__1d0R4"}},313:function(t,e,n){t.exports={item:"RightSide_item__TTu4t",info:"RightSide_info__3bfaW",location:"RightSide_location__hF10K",name:"RightSide_name__1mQRk",status:"RightSide_status__2ucbT"}},314:function(t,e,n){t.exports={item:"User_item__3GjjI"}},315:function(t,e,n){t.exports={pagination:"Pagination_pagination__1_GPE",pagBtn:"Pagination_pagBtn__23A2K",active:"Pagination_active__t1U2X",btn:"Pagination_btn__2T5wQ"}},327:function(t,e,n){"use strict";n.r(e);var o=n(17),r=n(0),s=n(311),i=n.n(s),a=n(312),u=n.n(a),c=n(234),l=n(15),f=n(2),b=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(l.b,{className:u.a.photo,to:"/profile/".concat(t.id),children:Object(f.jsx)("img",{src:t.photo?t.photo:c.a,alt:"ava"})}),Object(f.jsx)("div",{className:u.a.follow,children:t.followed?Object(f.jsx)("button",{disabled:t.followingProgress.some((function(e){return e===t.id})),onClick:function(){return t.unfollowUser(t.id)},className:u.a.unfollowBtn,children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):Object(f.jsx)("button",{disabled:t.followingProgress.some((function(e){return e===t.id})),onClick:function(){return t.followUser(t.id)},className:u.a.followBtn,children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]})},g=n(313),p=n.n(g),d=function(t){return Object(f.jsxs)("div",{className:p.a.item,children:[Object(f.jsxs)("div",{className:p.a.info,children:[Object(f.jsx)("div",{className:p.a.name,children:t.name}),Object(f.jsx)("div",{className:p.a.status,children:t.status})]}),Object(f.jsx)("div",{className:p.a.location})]})},h=n(314),j=n.n(h),_=function(t){return Object(f.jsxs)("div",{className:j.a.item,children:[Object(f.jsx)(b,{id:t.id,photo:t.photo,followed:t.followed,followingProgress:t.followingProgress,unfollowUser:t.unfollowUser,followUser:t.followUser}),Object(f.jsx)(d,{name:t.name,status:t.status})]})},m=n(39),w=n(240),O=n(315),P=n.n(O),y=function(t){for(var e=Math.ceil(t.totalCount/t.countOnPage),n=[],o=function(e){n.push(Object(f.jsx)("button",{onClick:function(){t.onPaginationChange(e)},className:t.currentPage===e?P.a.active+" "+P.a.pagBtn:P.a.pagBtn,children:e},e))},s=1;s<=e;s++)o(s);var i=t.portionsSize,a=e/i,u=Object(r.useState)(1),c=Object(w.a)(u,2),l=c[0],b=c[1],g=(l-1)*i+1,p=l*i;return Object(f.jsxs)("div",{className:P.a.pagination,children:[l>1&&Object(f.jsx)("button",{className:P.a.btn,onClick:function(){b(l-1)},children:"\u041d\u0430\u0437\u0430\u0434"}),n.filter((function(t,e){return e+1>=g&&e+1<=p})),l<a&&Object(f.jsx)("button",{className:P.a.btn,onClick:function(){b(l+1)},children:"\u0412\u043f\u0435\u0440\u0435\u0434"})]})},v=function(t){return Object(f.jsxs)("div",{className:i.a.container,children:[Object(f.jsx)("h2",{className:i.a.header,children:"\u041b\u044e\u0434\u0438"}),Object(f.jsx)(y,{totalCount:t.totalCount,countOnPage:t.usersCountOnPage,currentPage:t.currentPage,onPaginationChange:t.onPaginationChange,portionsSize:t.portionsSize}),Object(f.jsx)("div",{className:i.a.users,children:t.isFetching?Object(f.jsx)(m.a,{}):t.users.map((function(e){return Object(f.jsx)(_,{id:e.id,name:e.name,status:e.status,photo:e.photos.small,followed:e.followed,followingProgress:t.followingProgress,unfollowUser:t.unfollowUser,followUser:t.followUser},e.id)}))})]})},x=function(t){Object(r.useEffect)((function(){t.getUsers(t.usersCountOnPage,t.currentPage).then((function(e){return t.setTotalCount(e.totalCount)}))}),[t.currentPage]);return Object(f.jsx)(v,{onPaginationChange:function(e){t.setCurrentPage(e),t.getUsers(t.usersCountOnPage,e)},users:t.users,totalCount:t.totalCount,usersCountOnPage:t.usersCountOnPage,currentPage:t.currentPage,portionsSize:t.portionsSize,isFetching:t.isFetching,followingProgress:t.followingProgress,unfollowUser:t.unfollowUser,followUser:t.followUser})},C=n(78),S=n(239),U=n(16),N={setTotalCount:C.e,setCurrentPage:C.d,getUsers:C.c,unfollowUser:C.f,followUser:C.b};e.default=Object(U.d)(Object(o.b)((function(t){return{users:t.usersPage.users,usersCountOnPage:t.usersPage.usersCountOnPage,totalCount:t.usersPage.totalCount,currentPage:t.usersPage.currentPage,portionsSize:t.usersPage.portionsSize,isFetching:t.usersPage.isFetching,followingProgress:t.usersPage.followingProgress}}),N),S.a)(x)}}]);
//# sourceMappingURL=6.a0ebb07f.chunk.js.map